<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no">
    <script type="module" src="cmp/base.js"></script>
    <script type="module" src="cmp/mi-presentacion.js"></script>
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/presentacion.css">
    <script type="module">
      import { SelDiapositivaBase } from "./lib/SelDiapositivaBase.js";
      customElements.define("mi-selector", class extends SelDiapositivaBase {
        /** @override
         * @returns {string} */
        get html() {
          return (/* html */
            `<select>
              <option value=intro>Bases de Datos</option>
              <option value=casos>Casos de Uso</option>
              <option value=Privilegios>Privilegios</option>
              <option value=PrivilegiosRol>Privilegios por Rol</option>
              <option value=ER>Diagrama Entidad Relación</option>
              <option value=no_rel>Diseño no Relacional</option>
              <option value=Ejemplo>Datos de Ejemplo</option>
              <option value=Instrucciones>Instrucciones</option>
              <option value=Archivos>Archivos</option>
              <option value=custom>Custom Elements</option>
              <option value=mifooter>cmp/mi-footer.js</option>
              <option value=minav>cmp/mi-nav.js</option>
              <option value=miprogreso>cmp/mi-progreso.js</option>
              <option value=ClasesApoyo>Clases de Apoyo</option>
              <option value=util>lib/util.js</option>
              <option value=DaoAbc>lib/DaoAbc.js</option>
              <option value=CtrlAbc>lib/CtrlAbc.js</option>
              <option value=init>js/init.js</option>
              <option value=navegacion>js/navegacion.js</option>
              <option value=Fabrica>js/Fabrica.js</option>
              <option value=Entity>Clases Entity</option>
              <option value=InfoPasatiempo>js/InfoPasatiempo.js</option>
              <option value=InfoPrivilegio>js/InfoPrivilegio.js</option>
              <option value=InfoUsuario>js/InfoUsuario.js</option>
              <option value=ClasesDao>Clases Dao</option>
              <option value=DaoPasatiempos>js/DaoPasatiempos.js</option>
              <option value=DaoPrivilegios>js/DaoPrivilegios.js</option>
              <option value=DaoStorage>js/DaoStorage.js</option>
              <option value=DaoUsuarios>js/DaoUsuarios.js</option>
              <option value=ClasesSeguridad>Clases de Seguridad</option>
              <option value=CtrlSesion>js/CtrlSesion.js</option>
              <option value=index>index.html</option>
              <option value=ClasesPasatiempos>Clases de Pasatiempos</option>
              <option value=pasatiempos>pasatiempos.html</option>
              <option value=pasatiempoNuevo>pasatiempoNuevo.html</option>
              <option value=pasatiempo>pasatiempo.html</option>
              <option value=ClasesUsuarios>Clases de Usuarios</option>
              <option value=CtrlUsuarios>js/CtrlUsuarios.js</option>
              <option value=ForaneasDeUsuarios>js/ForaneasDeUsuarios.js</option>
              <option value=usuarios>usuarios.html</option>
              <option value=usuarioNuevo>usuarioNuevo.html</option>
              <option value=usuario>usuario.html</option>
              <option value=estilos>css/estilos.css</option>
              <option value=README>README.md</option>
              <option value=LICENSE>LICENSE</option>
            </select>`);
        }
      });
    </script>
  </head>
  <body>
    <div class="cortina"></div>
    <mi-menu></mi-menu>
    <mi-presentacion class="desplaza">
      <mi-selector slot=selector></mi-selector>
      <div id=intro slot=diapositiva>
        <div class="cortina"></div>
        <header></header>
        <h1></h1>
        <div class="marco-lectura">
          <p>
            <a href="https://gilpgbd.github.io/" target="_blank">Prueba el
              ejemplo.</a>
          </p>
          <p>
            <a href="https://github.com/gilpgbd/gilpgbd.github.io"
              target="_blank"">Revisa el código en GitHub.</a>
          </p>
          <p>
            <a href="https://web.microsoftstream.com/video/96eb5fa1-ee20-4939-a116-fef27dfac554"
              target="_blank"">Video de como funciona la app.</a>
          </p>
        </div>
      </div>
      <section id=casos slot=diapositiva>
        <div class=" cortina">
        </div>
        <header></header>
        <h2></h2>
        <div class="marco-lectura">
          <figure>
            <img class="dc" src="img/casos_bd.svg"
              alt="Diagrama de Casos de Uso">
          </figure>
        </div>
        <p>
          Aunque el diagrama indica los roles, es mejor implementar la seguridad
          por privilegios, porque con el tiempo los privilegios de cada rol
          pueden cambiar, incluso los roles pueden cambiar y queremos minimizar
          el impacto de los cambios.
        </p>
        <p>
          Puede hacerse una tabla que indique los privilegios de cada rol, e
          incluso implementar la tabla dentro del código 
        </p>
      </section>
      <section id=Privilegios slot=diapositiva>
        <div class=" cortina">
        </div>
        <header></header>
        <h2></h2>
        <dl>
          <dt>Pasatiempos</dt>
          <dd><p>Accede a la vista Pasatiempos.</p></dd>
          <dt>Usuarios</dt>
          <dd><p>Accede a la vista Usuarios.</p></dd>
        </dl>
        <p>Todos los usuarios pueden acceder al inicio de sesión.</p>
        <p>
          Todos los usuarios que hayan iniciado sesión pueden acceder a ver sus
          datos de sesión.
        </p>
      </section>
      <section id=PrivilegiosRol slot=diapositiva>
        <div class=" cortina">
        </div>
        <header></header>
        <h2></h2>
        <table>
          <tr><th>Rol</th><th>Privilegios</th></tr>
          <tr><td>Cliente</td><td>Pasatiempos</td></tr>
          <tr><td>Administrador</td><td>Usuarios</td></tr>
        </table>
      </section>
      <section id=ER slot=diapositiva>
        <div class=" cortina">
        </div>
        <header></header>
        <h2></h2>
        <div class="marco-lectura">
          <figure>
            <img class="dc" src="img/entidad_relacion.svg"
              alt="Diagrama de Entidad Relación de la Base de Datos">
          </figure>
          <h3>Frases</h3>
          <p>Un usuario <em>practica</em> <strong>un pasatiempo</strong>.</p>
          <p>
            Una pasatiempo es <em>practicado</em> por
            <strong>muchos usuarios</strong>.
          </p>
          <p>
            A un usuario se <em>asignan</em>
            <strong>muchos priviegios</strong>.</p>
          <p>Un privilegio es <em>asignado</em> a
            <strong>muchos usuarios</strong>.
          </p>
        </div>
        </section>
        <section id=no_rel slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <p>
              La base de datos es Firestore de Firebase. Las entidades se
              almacenan en <dfn>colecciones</dfn>, que consisten en una lista de
              identificadores que tienen asociados documentos. Cada
              <dfn>documento</dfn> contiene campos que tienen un nombre y llevan
              asociado un valor.
            </p>
            <p>
              Los archivos se cargan en el servicio de Storage, donde se usará
              el
              id de USUARIO como nombre del archivo.
            </p>
            <p>
              Para la asociaciones a 1 (1-1 o M-1) se usa el id del objeto
              relacionado. En este caso, el campo PAS_ID de USUARIO hace
              referencia al id de PASATIEMPO.
            </p>
            <p>
              Para la asociaciones a muchos (1-M o M-N) se usa un arreglo con
              los
              id de los objetos relacionados. En este caso, el campo
              PRIV_IDS de USUARIO hace referencia a algunos ids de PRIVILEGIO.
            </p>
            <p>El identificadores PASATIEMPO se genera automáticamente.</p>
            <p>
              La colección USUARIO se procesa más fácilmente si el id es el
              email.
              Un problema es que el usuario no puede cambiar de email.
            </p>
            <p>
              Los datos de PRIVILEGIO son usados directamente en el código. El
              desarrollador asigna los identificadores y llena los datos
              directamente en la base de datos desde el inicio.
            </p>
            <figure>
              <img class="dc" src="img/no_sql.svg"
                alt="Diseño No SQL de la Base de Datos">
            </figure>
          </div>
        </section>
        <section id=Ejemplo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <h3>Firestore</h3>
            <dl class="datos">
              <dt><strong>PRIVILEGIO</strong></dt>
              <dd>
                <dl>
                  <dt>(id) Pasatiempos</dt>
                  <dd>
                    <table class="documento">
                      <tr>
                        <th>Propiedad</th>
                        <th>Tipo</th>
                        <th>Valor</th>
                      </tr>
                      <tr>
                        <td>PRIV_DESCR</td>
                        <td>string</td>
                        <td>
                          Accede a la vista Pasatiempos.
                        </td>
                      </tr>
                    </table>
                  </dd>
                  <dt>(id) Usuarios</dt>
                  <dd>
                    <table class="documento">
                      <tr>
                        <th>Propiedad</th>
                        <th>Tipo</th>
                        <th>Valor</th>
                      </tr>
                      <tr>
                        <td>PRIV_DESCR</td>
                        <td>string</td>
                        <td>
                          Accede a la vista Usuarios.
                        </td>
                      </tr>
                    </table>
                  </dd>
                </dl>
              </dd>
              <dt><strong>PASATIEMPO</strong></dt>
              <dd>
                <dl>
                  <dt>(id automático) NXY-MNY-PXQ1</dt>
                  <dd>
                    <table class="documento">
                      <tr>
                        <th>Propiedad</th>
                        <th>Tipo</th>
                        <th>Valor</th>
                      </tr>
                      <tr>
                        <td>PAS_NOMBRE</td>
                        <td>string</td>
                        <td>Futbol</td>
                      </tr>
                    </table>
                  </dd>
                  <dt>(id automático) PHX-DGC-AI66</dt>
                  <dd>
                    <table class="documento">
                      <tr>
                        <th>Propiedad</th>
                        <th>Tipo</th>
                        <th>Valor</th>
                      </tr>
                      <tr>
                        <td>PAS_NOMBRE</td>
                        <td>string</td>
                        <td>Estudiar</td>
                      </tr>
                    </table>
                  </dd>
                </dl>
              </dd>
              <dt><strong>USUARIO</strong></dt>
              <dd>
                <dl>
                  <dt>(id) pp@gm.com</dt>
                  <dd>
                    <table class="documento">
                      <tr>
                        <th>Propiedad</th>
                        <th>Tipo</th>
                        <th>Valor</th>
                      </tr>
                      <tr>
                        <td>PAS_ID</td>
                        <td>string</td>
                        <td>PHX-DGC-AI66 (apunta a PASATIEMPO)</td>
                      </tr>
                      <tr>
                        <td>PRIV_IDS</td>
                        <td>arreglo</td>
                        <td>
                          <ol start="0">
                            <li>Pasatiempos (apunta a PRIVILEGIO)</li>
                            <li>Usuarios (apunta a PRIVILEGIO)</li>
                          </ol>
                        </td>
                      </tr>
                    </table>
                  </dd>
                </dl>
              </dd>
            </dl>
            <h3>Storage</h3>
            <p>
              El servicio de Storage almacena archivos por su nombre y va
              separado de los datos.
            </p>
            <table class="documento">
              <tr>
                <th>Nombre</th>
                <th>Datos</th>
              </tr>
              <tr>
                <td>pp@gm.com (apunta a USUARIO)</td>
                <td>
                  <figure>
                    <img src="img/pp.gif" alt="Avatar de pp">
                  </figure>
                </td>
              </tr>
            </table>
          </div>
        </section>
        <section id=Instrucciones slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <ol>
              <li>
                <p>
                  Crea una cuenta de Google con el nombre de tu aplicación de
                  base de datos.
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/ca9eaa42-1865-4de4-8aa4-7972a170dbbf"
                    target="_blank">Crea los íconos del proyecto con GIMP.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/dacfafcd-ef4e-4b81-81e4-340706b09638"
                    target="_blank">Crea una página con GitHub usando tu cuenta
                    de Google.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/f795709c-888b-43c9-afcc-f073e1b59b2c"
                      target="_blank">Configura Git usando los datos de
                      GitHub.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/0237a0e5-3812-4fa3-94bf-c526724241de"
                    target="_blank">Clona tu proyecto desde Visual Studio Code
                    para trabajar desde tu PC.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/1a324af1-b026-4b38-a050-9f053223648e"
                    target="_blank">Crear un proyecto de Firebase con el mismo
                    correo que la cuenta de GitHub.</a>
                </p>
              </li>
              <li>
                <p>
                  <strong>
                    <a href="https://web.microsoftstream.com/video/0a8ef0e3-fbd5-4842-a975-652d60e43296"
                      target="_blank">Configura Authorization, Storage y
                      Firestore en tu proyecto de Firebase; añade datos y
                      registra tu administrador.</a>
                  </strong>
                </p>
              </li>
              <li>
                <p>
                  Edita el código, utilizando las diapositivas que siguen
                  después de esta y pruébalo.
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/2cb131ac-4568-4049-acc8-94285e38df08"
                    target="_blank">Observa como abrir y cerrar proyectos con
                    Visual Studio Code. También como cerrar la conexión a GitHub
                    de tu PC.</a>
                </p>
              </li>
            </ol>
          </div>
        </section>
        <section id=Archivos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <ul>
              <li>
                <p>cmp</p>
                <ul>
                  <li><p><a href=#mifooter>mi-footer.js</a></p></li>
                  <li><p><a href=#minav>mi-nav.js</a></p></li>
                  <li><p><a href=#miprogreso>mi-progreso.js</a></p></li>
                </ul>
              </li>
              <li>
                <p>lib</p>
                <ul>
                  <li><p><a href=#util>util.js</a></p></li>
                  <li><p><a href=#DaoAbc>DaoAbc.js</a></p></li>
                  <li><p><a href=#CtrlAbc>CtrlAbc.js</a></p></li>
                </ul>
              </li>
              <li>
                <p>js</p>
                <ul>
                  <li><p><a href=#init>init.js</a></p></li>
                  <li><p><a href=#navegacion>navegacion.js</a></p></li>
                  <li><p><a href=#Fabrica>Fabrica.js</a></p></li>
                  <li><p><a href=#InfoPasatiempo>InfoPasatiempo.js</a></p></li>
                  <li><p><a href=#InfoPrivilegio>InfoPrivilegio.js</a></p></li>
                  <li><p><a href=#InfoUsuario>InfoUsuario.js</a></p></li>
                  <li><p><a href=#DaoPasatiempos>DaoPasatiempos.js</a></p></li>
                  <li><p><a href=#DaoPrivilegios>DaoPrivilegios.js</a></p></li>
                  <li><p><a href=#DaoStorage>DaoStorage.js</a></p></li>
                  <li><p><a href=#DaoUsuarios>DaoUsuarios.js</a></p></li>
                  <li><p><a href=#CtrlSesion>CtrlSesion.js</a></p></li>
                  <li><p><a href=#CtrlPasatiempos>CtrlPasatiempos.js</a></p></li>
                  <li><p><a href=#CtrlUsuarios>CtrlUsuarios.js</a></p></li>
                  <li><p><a href=#ForaneasDeUsuarios>ForaneasDeUsuarios.js</a></p></li>
                </ul>
              </li>
              <li>
                <p>css</p>
                <ul>
                  <li><p><a href=#estilos>estilos.css</a></p></li>
                </ul>
              </li>
              <li><p><a href=#index>index.html</a></p></li>
              <li><p><a href=#pasatiempos>pasatiempos.html</a></p></li>
              <li><p><a href=#pasatiempoNuevo>pasatiempoNuevo.html</a></p></li>
              <li><p><a href=#pasatiempo>pasatiempo.html</a></p></li>
              <li><p><a href=#usuarios>usuarios.html</a></p></li>
              <li><p><a href=#usuarioNuevo>usuarioNuevo.html</a></p></li>
              <li><p><a href=#usuario>usuario.html</a></p></li>
              <li><p><a href=#README>README.md</a></p></li>
              <li><p><a href=#license>LICENSE</a></p></li>
            </ul>
          </div>
        </section>
        <section id=custom slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/cmp.svg" alt="Custom Elements">
            </figure>
          </div>
        </section>
        <section id=mifooter slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="7"></td>
              <td class=cod><div><div><span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">MiFooter</span>&nbsp;<span style="color: #0000ff;">extends</span>&nbsp;<span style="color: #267f99;">HTMLElement</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`Copyright&nbsp;<span style="color: #0000ff;">&amp;copy;</span>&nbsp;2020&nbsp;Gilberto&nbsp;Pacheco&nbsp;Gallegos.`;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>}</div><div><span style="color: #001080;">customElements</span>.<span style="color: #795e26;">define</span>(<span style="color: #a31515;">"mi-footer"</span>,&nbsp;<span style="color: #267f99;">MiFooter</span>);</div></div></td>
            </tr>
          </table>
        </section>
        <section id=minav slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="23"></td>
              <td class=cod><div><div><span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">MiNav</span>&nbsp;<span style="color: #0000ff;">extends</span>&nbsp;<span style="color: #267f99;">HTMLElement</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;ul&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;li&gt;&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"index.html"</span><span style="color: #800000;">&gt;</span>Sesión<span style="color: #800000;">&lt;/a&gt;&lt;/li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/ul&gt;</span>`;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ul</span>&nbsp;=&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">querySelector</span>(<span style="color: #a31515;">"ul"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Set&lt;string&gt;}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privilegios</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">protege</span>(<span style="color: #001080;">privilegios</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">let</span>&nbsp;<span style="color: #001080;">html</span>&nbsp;=&nbsp;<span style="color: #a31515;">""</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">has</span>(<span style="color: #a31515;">"Pasatiempos"</span>))&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">html</span>&nbsp;+=<span style="color: #008000;">&nbsp;/*&nbsp;html&nbsp;*/&nbsp;</span>`<span style="color: #800000;">&lt;li&gt;&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"pasatiempos.html"</span><span style="color: #800000;">&gt;</span>Pasatiempos<span style="color: #800000;">&lt;/a&gt;&lt;/li&gt;</span>`;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">has</span>(<span style="color: #a31515;">"Usuarios"</span>))&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">html</span>&nbsp;+=<span style="color: #008000;">&nbsp;/*&nbsp;html&nbsp;*/&nbsp;</span>`<span style="color: #800000;">&lt;li&gt;&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"usuarios.html"</span><span style="color: #800000;">&gt;</span>Usuarios<span style="color: #800000;">&lt;/a&gt;&lt;/li&gt;</span>`;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ul</span>.<span style="color: #001080;">innerHTML</span>&nbsp;+=&nbsp;<span style="color: #001080;">html</span>;</div><div>&nbsp;&nbsp;}</div><div>}</div><div><span style="color: #001080;">customElements</span>.<span style="color: #795e26;">define</span>(<span style="color: #a31515;">"mi-nav"</span>,&nbsp;<span style="color: #267f99;">MiNav</span>);</div></div></td>
            </tr>
          </table>
        </section>
        <section id=miprogreso slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="7"></td>
              <td class=cod><div><div><span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">MiProgeso</span>&nbsp;<span style="color: #0000ff;">extends</span>&nbsp;<span style="color: #267f99;">HTMLElement</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;progress</span>&nbsp;<span style="color: #ff0000;">max</span>=<span style="color: #0000ff;">"100"</span><span style="color: #800000;">&gt;</span>Cargando…<span style="color: #800000;">&lt;/progress&gt;</span>`;</div><div>&nbsp;&nbsp;}</div><div>}</div><div><span style="color: #001080;">customElements</span>.<span style="color: #795e26;">define</span>(<span style="color: #a31515;">"mi-progreso"</span>,&nbsp;<span style="color: #267f99;">MiProgeso</span>);</div></div></td>
            </tr>
          </table>
        </section>
        <section id=ClasesApoyo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/apoyo.svg" alt="Clases de Seguridad">
            </figure>
          </div>
        </section>
        <section id=util slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="46"></td>
              <td class=cod><div><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{any}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">expresión</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">mensaje</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #001080;">expresión</span>,&nbsp;<span style="color: #001080;">mensaje</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(!<span style="color: #001080;">expresión</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #001080;">mensaje</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">s</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">trims</span>(<span style="color: #001080;">s</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">s</span>&nbsp;?&nbsp;<span style="color: #001080;">s</span>.<span style="color: #795e26;">trim</span>()&nbsp;:&nbsp;<span style="color: #a31515;">""</span>;</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{forEach:(doc:Object)=&gt;void}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">usaForEach</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(doc:&nbsp;Object)&nbsp;=&gt;&nbsp;Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">función</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">paraTodos</span>(<span style="color: #001080;">usaForEach</span>,&nbsp;<span style="color: #795e26;">función</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">arr</span>&nbsp;=&nbsp;[];</div><div>&nbsp;&nbsp;<span style="color: #001080;">usaForEach</span>.<span style="color: #795e26;">forEach</span>(<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0070c1;">arr</span>.<span style="color: #795e26;">push</span>(<span style="color: #795e26;">función</span>(<span style="color: #001080;">doc</span>)));</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0070c1;">arr</span>;</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;Muestra&nbsp;un&nbsp;error&nbsp;en&nbsp;la&nbsp;consola&nbsp;y&nbsp;un&nbsp;cuadro&nbsp;de&nbsp;alerta&nbsp;con&nbsp;el&nbsp;mensaje.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Error}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">error</span><span style="color: #008000;">&nbsp;descripción&nbsp;del&nbsp;error.&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #001080;">console</span>.<span style="color: #795e26;">error</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;<span style="color: #795e26;">alert</span>(<span style="color: #001080;">error</span>.<span style="color: #001080;">message</span>);</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;Codifica&nbsp;un&nbsp;texto&nbsp;para&nbsp;que&nbsp;escape&nbsp;los&nbsp;caracteres&nbsp;especiales&nbsp;y&nbsp;no&nbsp;se</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;pueda&nbsp;interpretar&nbsp;como&nbsp;HTML.&nbsp;Esta&nbsp;técnica&nbsp;evita&nbsp;la&nbsp;inyección&nbsp;de&nbsp;código.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">texto</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;un&nbsp;texto&nbsp;que&nbsp;no&nbsp;puede&nbsp;interpretarse&nbsp;como&nbsp;HTML.&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">cod</span>(<span style="color: #001080;">texto</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #001080;">texto</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span>).<span style="color: #795e26;">toString</span>()</div><div>&nbsp;&nbsp;&nbsp;&nbsp;.<span style="color: #795e26;">replace</span>(<span style="color: #811f3f;">/</span><span style="color: #d16969;">[</span><span style="color: #811f3f;">&lt;&gt;"'</span><span style="color: #d16969;">]</span><span style="color: #811f3f;">/</span><span style="color: #0000ff;">g</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">letra</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">letra</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">switch</span>&nbsp;(<span style="color: #001080;">letra</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">"&lt;"</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;lt;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">"&gt;"</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;gt;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">'"'</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;quot;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">"'"</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;#039;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">default</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">letra</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoAbc slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="29"></td>
              <td class=cod><div><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@interface</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@template</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">T</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoAbc</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:Error)=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">_callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(modelos:T[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">_callback</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">_callbackError</span>,&nbsp;<span style="color: #795e26;">_callback</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"interface"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">_id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;T&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">busca</span>(<span style="color: #001080;">_id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"interface"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{T}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">_modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">agrega</span>(<span style="color: #001080;">_modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"interface"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{T}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">_modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">_modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"interface"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">_id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">_id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"interface"</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=CtrlAbc slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="40"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoAbc</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoAbc.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;Controlador&nbsp;de&nbsp;catálogo.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;Es&nbsp;un&nbsp;ejemplo&nbsp;de&nbsp;Business&nbsp;Process&nbsp;(Proceso&nbsp;de&nbsp;Negocio).</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@template</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">T</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">CtrlAbc</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">mensajeNoEncontrado</span><span style="color: #008000;">&nbsp;</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoAbc&lt;T&gt;}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoAbc</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">mensajeNoEncontrado</span>,&nbsp;<span style="color: #001080;">daoAbc</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">mensajeNoEncontrado</span>&nbsp;=&nbsp;<span style="color: #001080;">mensajeNoEncontrado</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoAbc</span>&nbsp;=&nbsp;<span style="color: #001080;">daoAbc</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:Error)=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(modelos:T[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callback</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoAbc</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;T&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">busca</span>(<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoAbc</span>.<span style="color: #795e26;">busca</span>(<span style="color: #001080;">id</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0070c1;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0070c1;">modelo</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">mensajeNoEncontrado</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{T}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">agrega</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoAbc</span>.<span style="color: #795e26;">agrega</span>(<span style="color: #001080;">modelo</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{T}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoAbc</span>.<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">modelo</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoAbc</span>.<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">id</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=init slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="12"></td>
              <td class=cod><div><div><span style="color: #008000;">/*&nbsp;&nbsp;Initializa&nbsp;Firebase&nbsp;con&nbsp;la&nbsp;configuración&nbsp;del&nbsp;proyecto.&nbsp;Revisa&nbsp;la</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;configuración&nbsp;en&nbsp;tu&nbsp;servidor&nbsp;de&nbsp;Firebase.&nbsp;*/</span></div><div><span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div><span style="color: #001080;">firebase</span>.<span style="color: #795e26;">initializeApp</span>({</div><div>&nbsp;&nbsp;<span style="color: #001080;">apiKey</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"************************************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">authDomain</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"************************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">databaseURL</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"****************************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">projectId</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"*******"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">storageBucket</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"*******************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">messagingSenderId</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"**************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">appId</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"***************************************"</span></div><div>});</div></div></td>
            </tr>
          </table>
        </section>
        <section id=navegacion slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="11"></td>
              <td class=cod><div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraSesión</span>()&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #001080;">location</span>.<span style="color: #001080;">href</span>&nbsp;=&nbsp;<span style="color: #a31515;">"index.html"</span>;</div><div>}</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>()&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #001080;">location</span>.<span style="color: #001080;">href</span>&nbsp;=&nbsp;<span style="color: #a31515;">"pasatiempos.html"</span>;</div><div>}</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraUsuarios</span>()&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #001080;">location</span>.<span style="color: #001080;">href</span>&nbsp;=&nbsp;<span style="color: #a31515;">"usuarios.html"</span>;</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=Fabrica slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="39"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlAbc</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/CtrlAbc.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlSesión</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./CtrlSesion.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./CtrlUsuarios.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoPasatiempos</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoPasatiempos.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoPrivilegios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoPrivilegios.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoStorage</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoStorage.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoUsuarios.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">ForáneasDeUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./ForaneasDeUsuarios.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;Usa&nbsp;el&nbsp;patrón&nbsp;Singleton.&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">Fábrica</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">firestore</span>&nbsp;=&nbsp;<span style="color: #001080;">firebase</span>.<span style="color: #795e26;">firestore</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">storage</span>&nbsp;=&nbsp;<span style="color: #001080;">firebase</span>.<span style="color: #795e26;">storage</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Tipo&nbsp;de&nbsp;autenticación&nbsp;de&nbsp;usuarios.&nbsp;En&nbsp;este&nbsp;caso&nbsp;es&nbsp;con&nbsp;Google.&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">auth</span>&nbsp;=&nbsp;<span style="color: #001080;">firebase</span>.<span style="color: #795e26;">auth</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Tipo&nbsp;de&nbsp;autenticación&nbsp;de&nbsp;usuarios.&nbsp;En&nbsp;este&nbsp;caso&nbsp;es&nbsp;con&nbsp;Google.&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">provider</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">firebase</span>.<span style="color: #267f99;">auth</span>.<span style="color: #267f99;">GoogleAuthProvider</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/*&nbsp;Configura&nbsp;el&nbsp;proveedor&nbsp;de&nbsp;Google&nbsp;para&nbsp;que&nbsp;permita&nbsp;seleccionar&nbsp;el</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;nombre&nbsp;de&nbsp;usuario&nbsp;en&nbsp;una&nbsp;lista.&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">provider</span>.<span style="color: #795e26;">setCustomParameters</span>({&nbsp;<span style="color: #001080;">prompt</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"select_account"</span>&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoStorage</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoStorage</span>(<span style="color: #0070c1;">storage</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPasatiempos</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoPasatiempos</span>(<span style="color: #0070c1;">firestore</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPrivilegios</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoPrivilegios</span>(<span style="color: #0070c1;">firestore</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoUsuarios</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoUsuarios</span>(<span style="color: #0070c1;">firestore</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPasatiempos</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPrivilegios</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoStorage</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">CtrlSesión</span>(<span style="color: #0070c1;">auth</span>,&nbsp;<span style="color: #0070c1;">provider</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoUsuarios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ctrlPasatiempos</span>&nbsp;=</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">CtrlAbc</span>(<span style="color: #a31515;">"No&nbsp;se&nbsp;encontró&nbsp;el&nbsp;Pasatiempo."</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPasatiempos</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ctrlUsuarios</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">CtrlUsuarios</span>(<span style="color: #a31515;">"No&nbsp;se&nbsp;encontró&nbsp;el&nbsp;Pasatiempo."</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoUsuarios</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPasatiempos</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoPrivilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">foráneasDeUsuarios</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">ForáneasDeUsuarios</span>();</div><div>&nbsp;&nbsp;}</div><div>}</div><div><span style="color: #267f99;">Fábrica</span>.<span style="color: #001080;">instancia</span>&nbsp;=&nbsp;<span style="color: #267f99;">Object</span>.<span style="color: #795e26;">freeze</span>(<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Fábrica</span>());</div></div></td>
            </tr>
          </table>
        </section>
        <section id=Entity slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/clases_bd.svg"
                alt="Diagrama de clases de la Base de Datos">
            </figure>
          </div>
        </section>
        <section id=InfoPasatiempo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="16"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">valida</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@typedef</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">ParamPasatiempo</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">nombre</span><span style="color: #008000;">&nbsp;*/</span></div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">InfoPasatiempo</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{ParamPasatiempo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">param0</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>({&nbsp;<span style="color: #001080;">id</span>,&nbsp;<span style="color: #001080;">nombre</span>&nbsp;})&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">id</span>&nbsp;=&nbsp;<span style="color: #001080;">id</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">nombre</span>&nbsp;=&nbsp;<span style="color: #001080;">nombre</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #795e26;">valida</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">nombre</span>,&nbsp;<span style="color: #a31515;">"Falta&nbsp;proporcionar&nbsp;el&nbsp;nombre."</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=InfoPrivilegio slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="11"></td>
              <td class=cod><div><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@typedef</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">ParamPrivilegio</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">nombre</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">descripción</span><span style="color: #008000;">&nbsp;*/</span></div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">InfoPrivilegio</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{ParamPrivilegio}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">param0</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>({&nbsp;<span style="color: #001080;">nombre</span>,&nbsp;<span style="color: #001080;">descripción</span>&nbsp;})&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">nombre</span>&nbsp;=&nbsp;<span style="color: #001080;">nombre</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">descripción</span>&nbsp;=&nbsp;<span style="color: #001080;">descripción</span>;</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=InfoUsuario slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="28"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">valida</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPasatiempo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPrivilegio</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPrivilegio.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@typedef</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">ParamUsuario</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">email</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{File}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">avatar</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">urlDeAvatar</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPasatiempo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">pasatiempo</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPrivilegio[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privilegios</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">InfoUsuario</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{ParamUsuario}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">param0</span><span style="color: #008000;">&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>({<span style="color: #001080;">email</span>,&nbsp;<span style="color: #001080;">avatar</span>,&nbsp;<span style="color: #001080;">urlDeAvatar</span>,&nbsp;<span style="color: #001080;">pasatiempo</span>,&nbsp;<span style="color: #001080;">privilegios</span>})&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">email</span>&nbsp;=&nbsp;<span style="color: #001080;">email</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">avatar</span>&nbsp;=&nbsp;<span style="color: #001080;">avatar</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">urlDeAvatar</span>&nbsp;=&nbsp;<span style="color: #001080;">urlDeAvatar</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">pasatiempo</span>&nbsp;=&nbsp;<span style="color: #001080;">pasatiempo</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">privilegios</span>&nbsp;=&nbsp;<span style="color: #001080;">privilegios</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #795e26;">validaAlAgregar</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">email</span>,&nbsp;<span style="color: #a31515;">"Falta&nbsp;proporcionar&nbsp;el&nbsp;email."</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">avatar</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">avatar</span>.<span style="color: #0070c1;">size</span>&nbsp;&gt;&nbsp;<span style="color: #098658;">0</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a31515;">"Falta&nbsp;proporcionar&nbsp;el&nbsp;avatar."</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #795e26;">validaAlModificar</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">email</span>,&nbsp;<span style="color: #a31515;">"Falta&nbsp;proporcionar&nbsp;el&nbsp;email."</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=ClasesDao slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/clases_dao.svg"
                alt="Diagrama de clases Dao">
            </figure>
          </div>
        </section>
        <section id=DaoPasatiempos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="68"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoAbc</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/DaoAbc.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">paraTodos</span>,&nbsp;<span style="color: #001080;">trims</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPasatiempo.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@implements</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoAbc&lt;InfoPasatiempo&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoPasatiempos</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{collection:&nbsp;(col:&nbsp;string)&nbsp;=&gt;&nbsp;any;&nbsp;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">firestore</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">firestore</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>&nbsp;=&nbsp;<span style="color: #001080;">firestore</span>.<span style="color: #795e26;">collection</span>(<span style="color: #a31515;">"PASATIEMPO"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Crea&nbsp;un&nbsp;pasatiempo&nbsp;a&nbsp;partir&nbsp;de&nbsp;un&nbsp;documento.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@return</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPasatiempo}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">_cargaPasatiempo</span>(<span style="color: #001080;">doc</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">doc</span>.<span style="color: #001080;">exists</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #795e26;">data</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPasatiempo</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">PAS_NOMBRE</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">null</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(modelos:InfoPasatiempo[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callback</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/*&nbsp;Pide&nbsp;todos&nbsp;los&nbsp;registros&nbsp;de&nbsp;la&nbsp;colección&nbsp;"PASATIEMPO"&nbsp;ordenados&nbsp;por</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;el&nbsp;campo&nbsp;"PAS_NOMBRE"&nbsp;de&nbsp;forma&nbsp;ascendente.&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">orderBy</span>(<span style="color: #a31515;">"PAS_NOMBRE"</span>).<span style="color: #795e26;">onSnapshot</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">querySnapshot</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #795e26;">callback</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">paraTodos</span>(<span style="color: #001080;">querySnapshot</span>,&nbsp;<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaPasatiempo</span>(<span style="color: #001080;">doc</span>))),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Error}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">error</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">error</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">callbackError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;Intenta&nbsp;reconectarse.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;InfoPasatiempo&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">busca</span>(<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">let</span>&nbsp;<span style="color: #001080;">doc</span>&nbsp;=&nbsp;<span style="color: #001080;">id</span>&nbsp;?&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">id</span>).<span style="color: #795e26;">get</span>()&nbsp;:&nbsp;{&nbsp;<span style="color: #001080;">exists</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0000ff;">false</span>&nbsp;};</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaPasatiempo</span>(<span style="color: #001080;">doc</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPasatiempo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">agrega</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #795e26;">valida</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">add</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">PAS_NOMBRE</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #795e26;">trims</span>(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">nombre</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPasatiempo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #795e26;">valida</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">id</span>).<span style="color: #795e26;">set</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">PAS_NOMBRE</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #795e26;">trims</span>(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">nombre</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">id</span>).<span style="color: #795e26;">delete</span>();</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoPrivilegios slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="47"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">paraTodos</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPrivilegio</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPrivilegio.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoPrivilegios</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{collection:&nbsp;(col:&nbsp;string)&nbsp;=&gt;&nbsp;any;&nbsp;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">firestore</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">firestore</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>&nbsp;=&nbsp;<span style="color: #001080;">firestore</span>.<span style="color: #795e26;">collection</span>(<span style="color: #a31515;">"PRIVILEGIO"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Crea&nbsp;un&nbsp;privilegio&nbsp;a&nbsp;partir&nbsp;de&nbsp;un&nbsp;documento.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@return</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPrivilegio}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">_cargaPrivilegio</span>(<span style="color: #001080;">doc</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">doc</span>.<span style="color: #001080;">exists</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #795e26;">data</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPrivilegio</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">descripción</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">PRIV_DESCR</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">null</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(modelos:InfoPrivilegio[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callback</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/*&nbsp;Pide&nbsp;todos&nbsp;los&nbsp;documentos&nbsp;de&nbsp;la&nbsp;colección&nbsp;"PRIVILEGIO".&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">onSnapshot</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">querySnapshot</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #795e26;">callback</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">paraTodos</span>(<span style="color: #001080;">querySnapshot</span>,&nbsp;<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaPrivilegio</span>(<span style="color: #001080;">doc</span>))),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Error}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">error</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">error</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">callbackError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;Intenta&nbsp;reconectarse.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Busca&nbsp;privilegios&nbsp;en&nbsp;base&nbsp;a&nbsp;sus&nbsp;id.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">ids</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;InfoPrivilegio[]&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">buscaMuchos</span>(<span style="color: #001080;">ids</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ids</span>&nbsp;=&nbsp;<span style="color: #001080;">ids</span>&nbsp;||&nbsp;[];</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">let</span>&nbsp;<span style="color: #001080;">docs</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #267f99;">Promise</span>.<span style="color: #795e26;">all</span>(<span style="color: #001080;">ids</span>.<span style="color: #795e26;">map</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #001080;">id</span>&nbsp;?&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">id</span>).<span style="color: #795e26;">get</span>()&nbsp;:&nbsp;{&nbsp;<span style="color: #001080;">exists</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0000ff;">false</span>&nbsp;}));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">docs</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaPrivilegio</span>(<span style="color: #001080;">doc</span>)).<span style="color: #795e26;">filter</span>(<span style="color: #267f99;">Boolean</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoStorage slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="26"></td>
              <td class=cod><div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoStorage</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">storage</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_storage</span>&nbsp;=&nbsp;<span style="color: #001080;">storage</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">nombre</span><span style="color: #008000;">&nbsp;nombre&nbsp;con&nbsp;que&nbsp;se&nbsp;sube&nbsp;el&nbsp;archivo.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{FormDataEntryValue}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">archivo</span><span style="color: #008000;">&nbsp;archivo&nbsp;a&nbsp;subir.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">sube</span>(<span style="color: #001080;">nombre</span>,&nbsp;<span style="color: #001080;">archivo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_storage</span>.<span style="color: #795e26;">ref</span>(<span style="color: #001080;">nombre</span>).<span style="color: #795e26;">put</span>(<span style="color: #001080;">archivo</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">nombre</span><span style="color: #008000;">&nbsp;nombre&nbsp;del&nbsp;archivo.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;string&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">url</span>(<span style="color: #001080;">nombre</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_storage</span>.<span style="color: #795e26;">ref</span>(<span style="color: #001080;">nombre</span>).<span style="color: #795e26;">getDownloadURL</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">e</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">console</span>.<span style="color: #795e26;">log</span>(<span style="color: #001080;">e</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">""</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">nombre</span><span style="color: #008000;">&nbsp;nombre&nbsp;del&nbsp;archivo.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">nombre</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_storage</span>.<span style="color: #795e26;">ref</span>(<span style="color: #001080;">nombre</span>).<span style="color: #795e26;">delete</span>();</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoUsuarios slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="85"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoAbc</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/DaoAbc.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">paraTodos</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoPasatiempos</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoPasatiempos.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoPrivilegios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoPrivilegios.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoStorage</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoStorage.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoUsuario</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoUsuario.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@implements</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoAbc&lt;InfoUsuario&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoUsuarios</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{collection:&nbsp;(col:&nbsp;string)&nbsp;=&gt;&nbsp;any;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">firestore</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoPasatiempos}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoPasatiempos</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoPrivilegios}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoPrivilegios</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoStorage}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoStorage</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">firestore</span>,&nbsp;<span style="color: #001080;">daoPasatiempos</span>,&nbsp;<span style="color: #001080;">daoPrivilegios</span>,&nbsp;<span style="color: #001080;">daoStorage</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>&nbsp;=&nbsp;<span style="color: #001080;">firestore</span>.<span style="color: #795e26;">collection</span>(<span style="color: #a31515;">"USUARIO"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPasatiempos</span>&nbsp;=&nbsp;<span style="color: #001080;">daoPasatiempos</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPrivilegios</span>&nbsp;=&nbsp;<span style="color: #001080;">daoPrivilegios</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoStorage</span>&nbsp;=&nbsp;<span style="color: #001080;">daoStorage</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Crea&nbsp;un&nbsp;usuario&nbsp;a&nbsp;partir&nbsp;de&nbsp;un&nbsp;documento.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@return</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;InfoUsuario&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">_cargaUsuario</span>(<span style="color: #001080;">doc</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">doc</span>.<span style="color: #001080;">exists</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #795e26;">data</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoUsuario</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">email</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">avatar</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0000ff;">null</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">urlDeAvatar</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoStorage</span>.<span style="color: #795e26;">url</span>(<span style="color: #001080;">doc</span>.<span style="color: #001080;">id</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">pasatiempo</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPasatiempos</span>.<span style="color: #795e26;">busca</span>(<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">PAS_ID</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">privilegios</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPrivilegios</span>.<span style="color: #795e26;">buscaMuchos</span>(<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">PRIV_IDS</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">null</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(modelos:InfoUsuario[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callback</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">onSnapshot</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #001080;">querySnapshot</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #795e26;">callback</span>(<span style="color: #af00db;">await</span>&nbsp;<span style="color: #267f99;">Promise</span>.<span style="color: #795e26;">all</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">paraTodos</span>(<span style="color: #001080;">querySnapshot</span>,&nbsp;<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaUsuario</span>(<span style="color: #001080;">doc</span>)))),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Error}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">error</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">error</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">callbackError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;Intenta&nbsp;reconectarse.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;InfoUsuario&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">busca</span>(<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">let</span>&nbsp;<span style="color: #001080;">doc</span>&nbsp;=&nbsp;<span style="color: #001080;">id</span>&nbsp;?&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">id</span>).<span style="color: #795e26;">get</span>()&nbsp;:&nbsp;{&nbsp;<span style="color: #001080;">exists</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0000ff;">false</span>&nbsp;};</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaUsuario</span>(<span style="color: #001080;">doc</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoUsuario}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">_modificaInterno</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">email</span>).<span style="color: #795e26;">set</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">PAS_ID</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #001080;">pasatiempo</span>&nbsp;?&nbsp;(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">pasatiempo</span>.<span style="color: #001080;">id</span>&nbsp;||&nbsp;<span style="color: #0000ff;">null</span>)&nbsp;:&nbsp;<span style="color: #a31515;">""</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">PRIV_IDS</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">avatar</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #001080;">avatar</span>.<span style="color: #0070c1;">size</span>&nbsp;&gt;&nbsp;<span style="color: #098658;">0</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoStorage</span>.<span style="color: #795e26;">sube</span>(<span style="color: #001080;">modelo</span>.<span style="color: #001080;">email</span>,&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #001080;">avatar</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoUsuario}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">agrega</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #795e26;">validaAlAgregar</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_modificaInterno</span>(<span style="color: #001080;">modelo</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoUsuario}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">modelo</span>.<span style="color: #795e26;">validaAlModificar</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_modificaInterno</span>(<span style="color: #001080;">modelo</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #001080;">id</span>).<span style="color: #795e26;">delete</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoStorage</span>.<span style="color: #795e26;">elimina</span>(<span style="color: #001080;">id</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=ClasesSeguridad slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <p>
              Las clases de control son similares a los Business Process
              (procesos del negocio).
            </p>
            <figure>
              <img class="dc" src="img/seguridad.svg" alt="Clases de Seguridad">
            </figure>
          </div>
        </section>
        <section id=CtrlSesion slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="71"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoUsuarios.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@typedef</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">UsuarioAutorizado</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">email</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">nombre</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">urlFoto</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Set&lt;string&gt;}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privilegios</span><span style="color: #008000;">&nbsp;&nbsp;*/</span></div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">CtrlSesión</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">auth</span><span style="color: #008000;">&nbsp;Sistema&nbsp;de&nbsp;autenticación&nbsp;de&nbsp;Firebase.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">provider</span><span style="color: #008000;">&nbsp;Proveedor&nbsp;de&nbsp;autenticación&nbsp;de&nbsp;Firebase.</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoUsuarios}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoUsuarios</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">auth</span>,&nbsp;<span style="color: #001080;">provider</span>,&nbsp;<span style="color: #001080;">daoUsuarios</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_auth</span>&nbsp;=&nbsp;<span style="color: #001080;">auth</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_provider</span>&nbsp;=&nbsp;<span style="color: #001080;">provider</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoUsuarios</span>&nbsp;=&nbsp;<span style="color: #001080;">daoUsuarios</span>;</div><div>&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privilegio</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;UsuarioAutorizado&gt;}</span><span style="color: #008000;">&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">protege</span>(<span style="color: #001080;">privilegio</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Promise</span>((<span style="color: #795e26;">resolve</span>,&nbsp;<span style="color: #795e26;">reject</span>)&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/*&nbsp;Escucha&nbsp;cambios&nbsp;de&nbsp;usuario.&nbsp;Recibe&nbsp;una&nbsp;función&nbsp;que&nbsp;se&nbsp;invoca&nbsp;cada&nbsp;que</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;hay&nbsp;un&nbsp;cambio&nbsp;en&nbsp;la&nbsp;autenticación&nbsp;y&nbsp;recibe&nbsp;el&nbsp;modelo&nbsp;con&nbsp;las</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;características&nbsp;del&nbsp;usuario&nbsp;o&nbsp;null&nbsp;si&nbsp;no&nbsp;ha&nbsp;iniciado&nbsp;sesión&nbsp;.*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_auth</span>.<span style="color: #795e26;">onAuthStateChanged</span>(<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #001080;">usuarioAuth</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">usuarioAuth</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">email</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;Usuario&nbsp;aceptado.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@type</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Set&lt;string&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">let</span>&nbsp;<span style="color: #001080;">privilegios</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Set</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuario</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoUsuarios</span>.<span style="color: #795e26;">busca</span>(<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">email</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0070c1;">usuario</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">arrPrivilegios</span>&nbsp;=&nbsp;<span style="color: #0070c1;">usuario</span>.<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">privilegios</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Set</span>(<span style="color: #0070c1;">arrPrivilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(!<span style="color: #001080;">privilegio</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">resolve</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">email</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">email</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">displayName</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">urlFoto</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">usuario</span>.<span style="color: #001080;">urlDeAvatar</span>&nbsp;||&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">photoURL</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">privilegios</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">has</span>(<span style="color: #001080;">privilegio</span>))&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">resolve</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">email</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">email</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">displayName</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">urlFoto</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">usuarioAuth</span>.<span style="color: #001080;">photoURL</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">privilegios</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">reject</span>(<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"El&nbsp;usuario&nbsp;no&nbsp;está&nbsp;autorizado."</span>));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">reject</span>(<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #a31515;">"El&nbsp;usuario&nbsp;no&nbsp;está&nbsp;registrado."</span>));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;No&nbsp;ha&nbsp;iniciado&nbsp;sesión.&nbsp;Pide&nbsp;datos&nbsp;para&nbsp;iniciar&nbsp;sesión.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_auth</span>.<span style="color: #795e26;">signInWithRedirect</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_provider</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//auth.signInWithPopup(provider);</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//auth.signInAnonymously();</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;Función&nbsp;que&nbsp;se&nbsp;invoca&nbsp;si&nbsp;hay&nbsp;un&nbsp;error&nbsp;al&nbsp;verificar&nbsp;el&nbsp;usuario.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">reject</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">terminaSesión</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_auth</span>.<span style="color: #795e26;">signOut</span>();</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=index slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="72"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Sesión<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Carga&nbsp;el&nbsp;núcleo&nbsp;de&nbsp;Firebase&nbsp;JS&nbsp;SDK&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Agrega&nbsp;el&nbsp;manejo&nbsp;de&nbsp;autenticación.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Agrega&nbsp;el&nbsp;manejo&nbsp;de&nbsp;bases&nbsp;de&nbsp;datos.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Agrega&nbsp;el&nbsp;manejo&nbsp;de&nbsp;storage.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Configura&nbsp;la&nbsp;app&nbsp;usando&nbsp;la&nbsp;información&nbsp;del&nbsp;sitio&nbsp;de&nbsp;Firebase.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-progreso.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Sesión<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">terminarSesión</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"button"</span><span style="color: #800000;">&gt;</span>Terminar&nbsp;Sesión<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;figure&gt;&lt;img</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">avatar</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">""</span>&nbsp;<span style="color: #ff0000;">alt</span>=<span style="color: #0000ff;">Avatar</span><span style="color: #800000;">&gt;&lt;/figure&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Email</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;output</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">email</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/output&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;output</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">nombre</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/output&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">terminarSesión</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"click"</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;()&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">terminaSesión</span>());</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">""</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">email</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">email</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">nombre</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">avatar</span>.<span style="color: #001080;">src</span>&nbsp;=&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">urlFoto</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=ClasesPasatiempos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/pasatiempos.svg"
                alt="Clases de Pasatiempos">
            </figure>
          </div>
        </section>
        <section id=pasatiempos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="68"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Pasatiempos<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-progreso.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Pasatiempos<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"pasatiempoNuevo.html"</span><span style="color: #800000;">&gt;</span>Agregar…<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;ul</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"lista"</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"lista"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/ul&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">cod</span>,&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPasatiempo.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoUsuario</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoUsuario.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraSesión</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/navegacion.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlPasatiempos</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">"Pasatiempos"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #001080;">muestraError</span>,&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSesión</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{InfoPasatiempo[]}&nbsp;pasatiempos&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>(<span style="color: #001080;">pasatiempos</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">lista</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #001080;">pasatiempos</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">parámetros</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">URLSearchParams</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">parámetros</span>.<span style="color: #795e26;">append</span>(<span style="color: #a31515;">"id"</span>,&nbsp;<span style="color: #001080;">p</span>.<span style="color: #001080;">id</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"pasatiempo.html?${</span><span style="color: #0070c1;">parámetros</span><span style="color: #0000ff;">}"</span><span style="color: #800000;">&gt;&lt;strong&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>)<span style="color: #800000;">}&lt;/strong&gt;&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span>`);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).<span style="color: #795e26;">join</span>(<span style="color: #a31515;">""</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span style="color: #001080;">script</span>&gt;</div><div>&nbsp;&nbsp;&lt;/<span style="color: #001080;">body</span>&gt;</div><div>&lt;/<span style="color: #001080;">html</span>&gt;</div></div></td>
            </tr>
          </table>
        </section>
        <section id=pasatiempoNuevo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="69"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Pasatiempo&nbsp;Nuevo<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;form</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"forma"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"pasatiempos.html"</span><span style="color: #800000;">&gt;</span>Cancelar<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Pasatiempo&nbsp;Nuevo<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"submit"</span><span style="color: #800000;">&gt;</span>Guardar<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;&lt;label&gt;</span>Nombre&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"nombre"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"text"</span><span style="color: #800000;">&gt;&lt;/label&gt;&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/form&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPasatiempo.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraPasatiempos</span>,&nbsp;<span style="color: #001080;">muestraSesión</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/navegacion.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlPasatiempos</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">"Pasatiempos"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">forma</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"submit"</span>,&nbsp;<span style="color: #795e26;">guarda</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSesión</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">guarda</span>(<span style="color: #001080;">evt</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">evt</span>.<span style="color: #795e26;">preventDefault</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FormData</span>(<span style="color: #001080;">forma</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPasatiempo</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id:</span>&nbsp;<span style="color: #0000ff;">null</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"nombre"</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>.<span style="color: #795e26;">agrega</span>(<span style="color: #0070c1;">modelo</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=pasatiempo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="101"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Pasatiempo<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;form</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"forma"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"pasatiempos.html"</span><span style="color: #800000;">&gt;</span>Cancelar<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Pasatiempo<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"submit"</span><span style="color: #800000;">&gt;</span>Guardar<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"eliminar"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"button"</span><span style="color: #800000;">&gt;</span>Eliminar<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"nombre"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"text"</span>&nbsp;<span style="color: #ff0000;">value</span>=<span style="color: #0000ff;">"Cargando…"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/form&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPasatiempo.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraPasatiempos</span>,&nbsp;<span style="color: #001080;">muestraSesión</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/navegacion.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlPasatiempos</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">params</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">URL</span>(<span style="color: #001080;">location</span>.<span style="color: #001080;">href</span>).<span style="color: #0070c1;">searchParams</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">id</span>&nbsp;=&nbsp;<span style="color: #0070c1;">params</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"id"</span>);</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">"Pasatiempos"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">busca</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSesión</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Busca&nbsp;y&nbsp;muestra&nbsp;los&nbsp;datos&nbsp;que&nbsp;corresponden&nbsp;al&nbsp;id&nbsp;recibido.&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">busca</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>.<span style="color: #795e26;">busca</span>(<span style="color: #0070c1;">id</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">forma</span>.<span style="color: #001080;">nombre</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #0070c1;">modelo</span>.<span style="color: #001080;">nombre</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">forma</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"submit"</span>,&nbsp;<span style="color: #795e26;">guarda</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">eliminar</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"click"</span>,&nbsp;<span style="color: #795e26;">elimina</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">e</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">e</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">guarda</span>(<span style="color: #001080;">evt</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">evt</span>.<span style="color: #795e26;">preventDefault</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FormData</span>(<span style="color: #001080;">forma</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPasatiempo</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"nombre"</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>.<span style="color: #795e26;">modifica</span>(<span style="color: #0070c1;">modelo</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">elimina</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #795e26;">confirm</span>(<span style="color: #a31515;">"Confirmar&nbsp;la&nbsp;eliminación"</span>))&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlPasatiempos</span>.<span style="color: #795e26;">elimina</span>(<span style="color: #0070c1;">id</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">e</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">procesaError</span>(<span style="color: #001080;">e</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=ClasesUsuarios slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/usuarios.svg" alt="Clases de Usuarios">
            </figure>
          </div>
        </section>
        <section id=CtrlUsuarios slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="28"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlAbc</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/CtrlAbc.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoPasatiempos</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoPasatiempos.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoPrivilegios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoPrivilegios.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoUsuarios.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPasatiempo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPrivilegio</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPrivilegio.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoUsuario</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoUsuario.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@extends</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{CtrlAbc&lt;InfoUsuario&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">CtrlUsuarios</span>&nbsp;<span style="color: #0000ff;">extends</span>&nbsp;<span style="color: #267f99;">CtrlAbc</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">mensajeNoEncontrado</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoUsuarios}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoUsuarios</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoPasatiempos}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoPasatiempos</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoPrivilegios}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoPrivilegios</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">mensajeNoEncontrado</span>,&nbsp;<span style="color: #001080;">daoUsuarios</span>,&nbsp;<span style="color: #001080;">daoPasatiempos</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">daoPrivilegios</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">super</span>(<span style="color: #001080;">mensajeNoEncontrado</span>,&nbsp;<span style="color: #001080;">daoUsuarios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPasatiempos</span>&nbsp;=&nbsp;<span style="color: #001080;">daoPasatiempos</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPrivilegios</span>&nbsp;=&nbsp;<span style="color: #001080;">daoPrivilegios</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(pasatiempos:InfoPasatiempo[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackPasatiempos</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(privilegios:InfoPrivilegio[])=&gt;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackPrivilegios</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">foráneas</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callbackPasatiempos</span>,&nbsp;<span style="color: #795e26;">callbackPrivilegios</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPasatiempos</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callbackPasatiempos</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoPrivilegios</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callbackPrivilegios</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=ForaneasDeUsuarios slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="43"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">cod</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPasatiempo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPrivilegio</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoPrivilegio.js"</span>;</div><br><div><span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">SIN_PASATIEMPO</span>&nbsp;=&nbsp;<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;`<span style="color: #800000;">&lt;option</span>&nbsp;<span style="color: #ff0000;">value</span>=<span style="color: #0000ff;">""</span><span style="color: #800000;">&gt;</span>--&nbsp;Sin&nbsp;Pasatiempo&nbsp;--<span style="color: #800000;">&lt;/option&gt;</span>`;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">ForáneasDeUsuarios</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPrivilegio}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privilegio</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">renderPrivilegio</span>(<span style="color: #001080;">privilegio</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;em&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">privilegio</span>.<span style="color: #001080;">nombre</span>)<span style="color: #800000;">}&lt;/em&gt;&lt;br&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">privilegio</span>.<span style="color: #001080;">descripción</span>)<span style="color: #800000;">}</span>`);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{HTMLSelectElement}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">select</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPasatiempo[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">pasatiempos</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>(<span style="color: #001080;">select</span>,&nbsp;<span style="color: #001080;">valor</span>,&nbsp;<span style="color: #001080;">pasatiempos</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">select</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #0070c1;">SIN_PASATIEMPO</span>&nbsp;+</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">pasatiempos</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">selected</span>&nbsp;=&nbsp;<span style="color: #001080;">p</span>.<span style="color: #001080;">id</span>&nbsp;===&nbsp;<span style="color: #001080;">valor</span>&nbsp;?&nbsp;<span style="color: #a31515;">"selected"</span>&nbsp;:&nbsp;<span style="color: #a31515;">""</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;option</span>&nbsp;<span style="color: #ff0000;">value</span>=<span style="color: #800000;">"${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">p</span>.<span style="color: #001080;">id</span>)<span style="color: #800000;">}"</span>&nbsp;<span style="color: #800000;">${</span><span style="color: #0070c1;">selected</span><span style="color: #800000;">}&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>)<span style="color: #800000;">}&lt;/option&gt;</span>`);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).<span style="color: #795e26;">join</span>(<span style="color: #a31515;">""</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{HTMLElement}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">elemento</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPrivilegio[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privilegios</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">muestraPrivilegios</span>(<span style="color: #001080;">elemento</span>,&nbsp;<span style="color: #001080;">valor</span>,&nbsp;<span style="color: #001080;">privilegios</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">set</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Set</span>(<span style="color: #001080;">valor</span>&nbsp;||&nbsp;[]);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">elemento</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">checked</span>&nbsp;=&nbsp;<span style="color: #0070c1;">set</span>.<span style="color: #795e26;">has</span>(<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>)&nbsp;?&nbsp;<span style="color: #a31515;">"checked"</span>&nbsp;:&nbsp;<span style="color: #a31515;">""</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"checkbox"</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"privilegios"</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">value</span>=<span style="color: #800000;">"${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>)<span style="color: #800000;">}"</span>&nbsp;<span style="color: #800000;">${</span><span style="color: #0070c1;">checked</span><span style="color: #800000;">}&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;span&gt;${</span><span style="color: #0000ff;">this</span>.<span style="color: #795e26;">renderPrivilegio</span>(<span style="color: #001080;">p</span>)<span style="color: #800000;">}&lt;/span&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span>`)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}).<span style="color: #795e26;">join</span>(<span style="color: #a31515;">""</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=usuarios slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="80"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Usuarios<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-progreso.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Usuarios<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"usuarioNuevo.html"</span><span style="color: #800000;">&gt;</span>Agregar…<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;ul</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"lista"</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"lista&nbsp;con_imagen"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/ul&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">cod</span>,&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoUsuario</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoUsuario.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraSesión</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/navegacion.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlUsuarios</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">foráneas</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">foráneasDeUsuarios</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">"Usuarios"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.<span style="color: #795e26;">consulta</span>(<span style="color: #001080;">muestraError</span>,&nbsp;<span style="color: #795e26;">muestraUsuarios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSesión</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{InfoUsuario[]}&nbsp;usuarios&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraUsuarios</span>(<span style="color: #001080;">usuarios</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">lista</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #001080;">usuarios</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">u</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">parámetros</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">URLSearchParams</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">parámetros</span>.<span style="color: #795e26;">append</span>(<span style="color: #a31515;">"id"</span>,&nbsp;<span style="color: #001080;">u</span>.<span style="color: #001080;">email</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">nombre</span>&nbsp;=&nbsp;<span style="color: #001080;">u</span>.<span style="color: #001080;">pasatiempo</span>&nbsp;?&nbsp;<span style="color: #001080;">u</span>.<span style="color: #001080;">pasatiempo</span>.<span style="color: #001080;">nombre</span>&nbsp;:&nbsp;<span style="color: #a31515;">""</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">privilegios</span>&nbsp;=</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">u</span>.<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0070c1;">foráneas</span>.<span style="color: #795e26;">renderPrivilegio</span>(<span style="color: #001080;">p</span>)).<span style="color: #795e26;">join</span>(<span style="color: #a31515;">"&lt;br&gt;"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"usuario.html?${</span><span style="color: #0070c1;">parámetros</span><span style="color: #0000ff;">}"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;span</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"marco"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;img</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">u</span>.<span style="color: #001080;">urlDeAvatar</span>)<span style="color: #0000ff;">}"</span>&nbsp;<span style="color: #ff0000;">alt</span>=<span style="color: #0000ff;">"Falta&nbsp;el&nbsp;Avatar"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/span&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;span&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;strong&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">u</span>.<span style="color: #001080;">email</span>)<span style="color: #800000;">}&lt;/strong&gt;&lt;br&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">${</span><span style="color: #795e26;">cod</span>(<span style="color: #0070c1;">nombre</span>)<span style="color: #800000;">}&lt;br&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">${</span><span style="color: #0070c1;">privilegios</span><span style="color: #800000;">}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/span&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span>`);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).<span style="color: #795e26;">join</span>(<span style="color: #a31515;">""</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span style="color: #001080;">script</span>&gt;</div><div>&nbsp;&nbsp;&lt;/<span style="color: #001080;">body</span>&gt;</div><div>&lt;/<span style="color: #001080;">html</span>&gt;</div></div></td>
            </tr>
          </table>
        </section>
        <section id=usuarioNuevo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="122"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Usuario&nbsp;Nuevo<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-progreso.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;form</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"forma"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"usuarios.html"</span><span style="color: #800000;">&gt;</span>Cancelar<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Usuario&nbsp;Nuevo<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"submit"</span><span style="color: #800000;">&gt;</span>Guardar<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;&lt;label&gt;</span>Cue&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"cue"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"email"</span><span style="color: #800000;">&gt;&lt;/label&gt;&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avatar</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"avatar"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"file"</span>&nbsp;<span style="color: #ff0000;">accept</span>=<span style="color: #0000ff;">".png,.jpg,.jpeg,.gif"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Maneja&nbsp;una&nbsp;asociación&nbsp;a&nbsp;uno.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pasatiempo</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;select</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"pasatiempo"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;option&gt;</span>Cargando…<span style="color: #800000;">&lt;/option&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/select&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Maneja&nbsp;una&nbsp;asociación&nbsp;a&nbsp;muchos.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;fieldset&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;legend&gt;</span>Privilegios<span style="color: #800000;">&lt;/legend&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;ul</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"privilegios"</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"checks"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/ul&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/fieldset&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/form&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPasatiempo.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPrivilegio</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPrivilegio.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoUsuario</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoUsuario.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraSesión</span>,&nbsp;<span style="color: #001080;">muestraUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/navegacion.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlUsuarios</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">foráneas</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">foráneasDeUsuarios</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">"Usuarios"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">forma</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"submit"</span>,&nbsp;<span style="color: #795e26;">guarda</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">foráneas</span>(<span style="color: #001080;">muestraError</span>,&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>,&nbsp;<span style="color: #795e26;">muestraPrivilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSesión</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{InfoPasatiempo[]}&nbsp;pasatiempos&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>(<span style="color: #001080;">pasatiempos</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">foráneas</span>.<span style="color: #795e26;">muestraPasatiempos</span>(<span style="color: #001080;">forma</span>.<span style="color: #001080;">pasatiempo</span>,&nbsp;<span style="color: #a31515;">""</span>,&nbsp;<span style="color: #001080;">pasatiempos</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{InfoPrivilegio[]}&nbsp;privs&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraPrivilegios</span>(<span style="color: #001080;">privs</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">foráneas</span>.<span style="color: #795e26;">muestraPrivilegios</span>(<span style="color: #001080;">privilegios</span>,&nbsp;[],&nbsp;<span style="color: #001080;">privs</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">guarda</span>(<span style="color: #001080;">evt</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">evt</span>.<span style="color: #795e26;">preventDefault</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FormData</span>(<span style="color: #001080;">forma</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">pasatiempo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPasatiempo</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"pasatiempo"</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre:</span>&nbsp;<span style="color: #0000ff;">null</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">privilegios</span>&nbsp;=&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">getAll</span>(<span style="color: #a31515;">"privilegios"</span>).</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">map</span>(<span style="color: #001080;">id</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPrivilegio</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre:</span>&nbsp;<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">descripción:</span>&nbsp;<span style="color: #0000ff;">null</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**</span><span style="color: #0000ff;">@type</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoUsuario}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoUsuario</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">email:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"cue"</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">avatar:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"avatar"</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">urlDeAvatar:</span>&nbsp;<span style="color: #0000ff;">null</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">pasatiempo</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">privilegios</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.<span style="color: #795e26;">agrega</span>(<span style="color: #0070c1;">modelo</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraUsuarios</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=usuario slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="155"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"en"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Usuario<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-nav.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-progreso.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;form</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"forma"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-nav</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"miNav"</span><span style="color: #800000;">&gt;&lt;/mi-nav&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"usuarios.html"</span><span style="color: #800000;">&gt;</span>Cancelar<span style="color: #800000;">&lt;/a&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;&lt;output</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"cue"</span><span style="color: #800000;">&gt;</span>Usuario&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;&lt;/output&gt;&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"submit"</span><span style="color: #800000;">&gt;</span>Guardar<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;button</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"eliminar"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"button"</span><span style="color: #800000;">&gt;</span>Eliminar<span style="color: #800000;">&lt;/button&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/header&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;figure</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"figure"</span><span style="color: #800000;">&gt;&lt;img</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"img"</span>&nbsp;<span style="color: #ff0000;">alt</span>=<span style="color: #0000ff;">"Falta&nbsp;el&nbsp;Avatar"</span><span style="color: #800000;">&gt;&lt;/figure&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avatar</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"avatar"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"file"</span>&nbsp;<span style="color: #ff0000;">accept</span>=<span style="color: #0000ff;">".png,.jpg,.jpeg,.gif"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Maneja&nbsp;una&nbsp;asociación&nbsp;a&nbsp;uno.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pasatiempo</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;select</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"pasatiempo"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;option&gt;</span>Cargando…<span style="color: #800000;">&lt;/option&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/select&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">&lt;!--&nbsp;Maneja&nbsp;una&nbsp;asociación&nbsp;a&nbsp;muchos.&nbsp;--&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;fieldset&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;legend&gt;</span>Privilegios<span style="color: #800000;">&lt;/legend&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;ul</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"privilegios"</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"checks"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-progreso&gt;&lt;/mi-progreso&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/li&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/ul&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/fieldset&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/form&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">Fábrica</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/Fabrica.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPasatiempo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPasatiempo.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoPrivilegio</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoPrivilegio.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoUsuario</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/InfoUsuario.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraSesión</span>,&nbsp;<span style="color: #001080;">muestraUsuarios</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./js/navegacion.js"</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlSesión</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">ctrlUsuarios</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">foráneas</span>&nbsp;=&nbsp;<span style="color: #001080;">Fábrica</span>.<span style="color: #001080;">instancia</span>.<span style="color: #001080;">foráneasDeUsuarios</span>;</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">params</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">URL</span>(<span style="color: #001080;">location</span>.<span style="color: #001080;">href</span>).<span style="color: #0070c1;">searchParams</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">id</span>&nbsp;=&nbsp;<span style="color: #0070c1;">params</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"id"</span>);</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">protege</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">protege</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">usuarioAutorizado</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlSesión</span>.<span style="color: #795e26;">protege</span>(<span style="color: #a31515;">"Usuarios"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">miNav</span>.<span style="color: #795e26;">protege</span>(<span style="color: #0070c1;">usuarioAutorizado</span>.<span style="color: #001080;">privilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">busca</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSesión</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;Busca&nbsp;y&nbsp;muestra&nbsp;los&nbsp;datos&nbsp;que&nbsp;corresponden&nbsp;al&nbsp;id&nbsp;recibido.&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">busca</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.<span style="color: #795e26;">busca</span>(<span style="color: #0070c1;">id</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0070c1;">modelo</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">forma</span>.<span style="color: #001080;">cue</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #0070c1;">id</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">foráneas</span>(<span style="color: #001080;">muestraError</span>,&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>,&nbsp;<span style="color: #795e26;">muestraPrivilegios</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">forma</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"submit"</span>,&nbsp;<span style="color: #795e26;">guarda</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">eliminar</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"click"</span>,&nbsp;<span style="color: #795e26;">elimina</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">img</span>.<span style="color: #001080;">src</span>&nbsp;=&nbsp;<span style="color: #0070c1;">modelo</span>.<span style="color: #001080;">urlDeAvatar</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoUsuario}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPasatiempo[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">pasatiempos</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraPasatiempos</span>(<span style="color: #001080;">pasatiempos</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">pasatiempoId</span>&nbsp;=&nbsp;<span style="color: #0070c1;">modelo</span>.<span style="color: #001080;">pasatiempo</span>&nbsp;?&nbsp;<span style="color: #0070c1;">modelo</span>.<span style="color: #001080;">pasatiempo</span>.<span style="color: #001080;">id</span>&nbsp;:&nbsp;<span style="color: #a31515;">""</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">foráneas</span>.<span style="color: #795e26;">muestraPasatiempos</span>(<span style="color: #001080;">forma</span>.<span style="color: #001080;">pasatiempo</span>,&nbsp;<span style="color: #0070c1;">pasatiempoId</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">pasatiempos</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoUsuario}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">modelo</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{InfoPrivilegio[]}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">privs</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraPrivilegios</span>(<span style="color: #001080;">privs</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">privilegioIds</span>&nbsp;=&nbsp;<span style="color: #0070c1;">modelo</span>.<span style="color: #001080;">privilegios</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">p</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #001080;">p</span>.<span style="color: #001080;">nombre</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">foráneas</span>.<span style="color: #795e26;">muestraPrivilegios</span>(<span style="color: #001080;">privilegios</span>,&nbsp;<span style="color: #0070c1;">privilegioIds</span>,&nbsp;<span style="color: #001080;">privs</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">e</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">e</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraUsuarios</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">guarda</span>(<span style="color: #001080;">evt</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">evt</span>.<span style="color: #795e26;">preventDefault</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FormData</span>(<span style="color: #001080;">forma</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">pasatiempo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPasatiempo</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"pasatiempo"</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre:</span>&nbsp;<span style="color: #0000ff;">null</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">privilegios</span>&nbsp;=&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">getAll</span>(<span style="color: #a31515;">"privilegios"</span>).</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">map</span>(<span style="color: #001080;">id</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoPrivilegio</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">nombre:</span>&nbsp;<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">descripción:</span>&nbsp;<span style="color: #0000ff;">null</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">modelo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoUsuario</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">email:</span>&nbsp;<span style="color: #0070c1;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">avatar:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #795e26;">get</span>(<span style="color: #a31515;">"avatar"</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">urlDeAvatar:</span>&nbsp;<span style="color: #0000ff;">null</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">pasatiempo</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">privilegios</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.<span style="color: #795e26;">modifica</span>(<span style="color: #0070c1;">modelo</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraUsuarios</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">elimina</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #795e26;">confirm</span>(<span style="color: #a31515;">"Confirmar&nbsp;la&nbsp;eliminación"</span>))&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlUsuarios</span>.<span style="color: #795e26;">elimina</span>(<span style="color: #0070c1;">id</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraUsuarios</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">e</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">e</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=estilos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="138"></td>
              <td class=cod><div><div><span style="color: #800000;">:root</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-family</span>:&nbsp;<span style="color: #0451a5;">sans-serif</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">--color-active</span>:&nbsp;<span style="color: #0451a5;">#4646462c</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">--color-header</span>:&nbsp;<span style="color: #0451a5;">white</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">--color-nav</span>:&nbsp;<span style="color: #0451a5;">white</span>;</div><div>}</div><br><div><span style="color: #800000;">body</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">max-width</span>:&nbsp;<span style="color: #098658;">640px</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">0</span>&nbsp;<span style="color: #0451a5;">auto</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">padding</span>:&nbsp;<span style="color: #098658;">0.5rem</span>;</div><div>}</div><br><div><span style="color: #800000;">mi-nav</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">background-color</span>:&nbsp;<span style="color: #795e26;">var</span>(<span style="color: #001080;">--color-nav</span>);</div><div>}</div><br><div><span style="color: #800000;">mi-nav</span>&nbsp;<span style="color: #800000;">ul</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">flex</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">justify-content</span>:&nbsp;<span style="color: #0451a5;">center</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">align-items</span>:&nbsp;<span style="color: #0451a5;">center</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">flex-flow</span>:&nbsp;<span style="color: #0451a5;">wrap</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">list-style</span>:&nbsp;<span style="color: #0451a5;">none</span>;</div><div>}</div><br><div><span style="color: #800000;">mi-nav</span>&nbsp;<span style="color: #800000;">ul</span>&nbsp;<span style="color: #800000;">li</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">0.5rem</span>;</div><div>}</div><br><div><span style="color: #800000;">header</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">flex</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">flex-flow</span>:&nbsp;<span style="color: #0451a5;">wrap</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">align-items</span>:&nbsp;<span style="color: #0451a5;">center</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">align-content</span>:&nbsp;<span style="color: #0451a5;">flex-end</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">justify-content</span>:&nbsp;<span style="color: #0451a5;">flex-end</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">position</span>:&nbsp;<span style="color: #0451a5;">sticky</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">top</span>:&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">background-color</span>:&nbsp;<span style="color: #795e26;">var</span>(<span style="color: #001080;">--color-header</span>);</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">padding-top</span>:&nbsp;<span style="color: #098658;">0.5rem</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">padding-bottom</span>:&nbsp;<span style="color: #098658;">0.5rem</span>;</div><div>}</div><br><div><span style="color: #800000;">header</span>&nbsp;<span style="color: #800000;">a:first-child</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin-right</span>:&nbsp;<span style="color: #098658;">0.5rem</span>;</div><div>}</div><br><div><span style="color: #800000;">header</span>&nbsp;<span style="color: #800000;">button</span>,</div><div><span style="color: #800000;">header</span>&nbsp;<span style="color: #800000;">a:last-child</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin-left</span>:&nbsp;<span style="color: #098658;">0.5rem</span>;</div><div>}</div><br><div><span style="color: #800000;">h1</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">0</span>&nbsp;<span style="color: #0451a5;">auto</span>&nbsp;<span style="color: #098658;">0</span>&nbsp;<span style="color: #098658;">0</span>;</div><div>}</div><br><div><span style="color: #800000;">mi-footer</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">1rem</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-size</span>:&nbsp;<span style="color: #0451a5;">small</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">text-align</span>:&nbsp;<span style="color: #0451a5;">center</span>;</div><div>}</div><br><div><span style="color: #800000;">figure</span>&nbsp;<span style="color: #800000;">img</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">max-width</span>:&nbsp;<span style="color: #098658;">100%</span>;</div><div>}</div><br><div><span style="color: #800000;">legend</span>,</div><div><span style="color: #800000;">p</span>&nbsp;<span style="color: #800000;">label</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-weight</span>:&nbsp;<span style="color: #0451a5;">bold</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-size</span>:&nbsp;<span style="color: #098658;">0.7rem</span>;</div><div>}</div><br><div><span style="color: #800000;">p</span>&nbsp;<span style="color: #800000;">label</span>&gt;<span style="color: #800000;">*</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-weight</span>:&nbsp;<span style="color: #0451a5;">normal</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-size</span>:&nbsp;<span style="color: #098658;">1rem</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">box-sizing</span>:&nbsp;<span style="color: #0451a5;">border-box</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">width</span>:&nbsp;<span style="color: #098658;">100%</span>;</div><div>}</div><br><div><span style="color: #800000;">ul.lista</span>,</div><div><span style="color: #800000;">ul.checks</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">list-style-type</span>:&nbsp;<span style="color: #0451a5;">none</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">padding</span>:&nbsp;<span style="color: #098658;">0</span>;</div><div>}</div><br><div><span style="color: #800000;">ul.lista</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">1rem</span>&nbsp;<span style="color: #098658;">0</span>;</div><div>}</div><br><div><span style="color: #800000;">ul.checks</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">0</span>;</div><div>}</div><br><div><span style="color: #800000;">.checks</span>&nbsp;<span style="color: #800000;">li</span>,</div><div><span style="color: #800000;">.lista</span>&nbsp;<span style="color: #800000;">li</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">0</span>;</div><div>}</div><br><div><span style="color: #800000;">.lista</span>&nbsp;<span style="color: #800000;">a</span>,</div><div><span style="color: #800000;">.checks</span>&nbsp;<span style="color: #800000;">label</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">padding</span>:&nbsp;<span style="color: #098658;">1rem</span>;</div><div>}</div><br><div><span style="color: #800000;">.lista</span>&nbsp;<span style="color: #800000;">a</span>,</div><div><span style="color: #800000;">.checks</span>&nbsp;<span style="color: #800000;">label</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-size</span>:&nbsp;<span style="color: #098658;">0.75rem</span>;</div><div>}</div><br><div><span style="color: #800000;">.lista</span>&nbsp;<span style="color: #800000;">a:active</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">background-color</span>:&nbsp;<span style="color: #795e26;">var</span>(<span style="color: #001080;">--color-active</span>);</div><div>}</div><br><div><span style="color: #800000;">.lista</span>&nbsp;<span style="color: #800000;">strong</span>,</div><div><span style="color: #800000;">.checks</span>&nbsp;<span style="color: #800000;">em</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-size</span>:&nbsp;<span style="color: #098658;">1rem</span>;</div><div>}</div><br><div><span style="color: #800000;">.checks</span>&nbsp;<span style="color: #800000;">label</span>,</div><div><span style="color: #800000;">.con_imagen</span>&nbsp;<span style="color: #800000;">a</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">flex</span>;</div><div>}</div><br><div><span style="color: #800000;">.con_imagen</span>&nbsp;<span style="color: #800000;">a</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">align-items</span>:&nbsp;<span style="color: #0451a5;">initial</span>;</div><div>}</div><br><div><span style="color: #800000;">.con_imagen</span>&nbsp;<span style="color: #800000;">.marco</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">width</span>:&nbsp;<span style="color: #098658;">30%</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin-right</span>:&nbsp;<span style="color: #098658;">1rem</span>;</div><div>}</div><br><div><span style="color: #800000;">.con_imagen</span>&nbsp;<span style="color: #800000;">img</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">width</span>:&nbsp;<span style="color: #098658;">100%</span>;</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=README slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="5"></td>
              <td class=cod><div><div><span style="color: #800000;font-weight: bold;">#&nbsp;gilpgbd.github.io</span></div><div>Ejemplo&nbsp;de&nbsp;bases&nbsp;de&nbsp;datos&nbsp;con&nbsp;Firebase.</div><br><div>https://gilpgbd.github.io</div><br></div></td>
            </tr>
          </table>
        </section>
        <section id=LICENSE slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="122"></td>
              <td class=cod><div>Creative Commons Legal Code</div><div><br></div><div>CC0 1.0 Universal</div><div><br></div><div>&nbsp; &nbsp; CREATIVE COMMONS CORPORATION IS NOT A LAW FIRM AND DOES NOT PROVIDE</div><div>&nbsp; &nbsp; LEGAL SERVICES. DISTRIBUTION OF THIS DOCUMENT DOES NOT CREATE AN</div><div>&nbsp; &nbsp; ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES THIS</div><div>&nbsp; &nbsp; INFORMATION ON AN "AS-IS" BASIS. CREATIVE COMMONS MAKES NO WARRANTIES</div><div>&nbsp; &nbsp; REGARDING THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS</div><div>&nbsp; &nbsp; PROVIDED HEREUNDER, AND DISCLAIMS LIABILITY FOR DAMAGES RESULTING FROM</div><div>&nbsp; &nbsp; THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS PROVIDED</div><div>&nbsp; &nbsp; HEREUNDER.</div><div><br></div><div>Statement of Purpose</div><div><br></div><div>The laws of most jurisdictions throughout the world automatically confer</div><div>exclusive Copyright and Related Rights (defined below) upon the creator</div><div>and subsequent owner(s) (each and all, an "owner") of an original work of</div><div>authorship and/or a database (each, a "Work").</div><div><br></div><div>Certain owners wish to permanently relinquish those rights to a Work for</div><div>the purpose of contributing to a commons of creative, cultural and</div><div>scientific works ("Commons") that the public can reliably and without fear</div><div>of later claims of infringement build upon, modify, incorporate in other</div><div>works, reuse and redistribute as freely as possible in any form whatsoever</div><div>and for any purposes, including without limitation commercial purposes.</div><div>These owners may contribute to the Commons to promote the ideal of a free</div><div>culture and the further production of creative, cultural and scientific</div><div>works, or to gain reputation or greater distribution for their Work in</div><div>part through the use and efforts of others.</div><div><br></div><div>For these and/or other purposes and motivations, and without any</div><div>expectation of additional consideration or compensation, the person</div><div>associating CC0 with a Work (the "Affirmer"), to the extent that he or she</div><div>is an owner of Copyright and Related Rights in the Work, voluntarily</div><div>elects to apply CC0 to the Work and publicly distribute the Work under its</div><div>terms, with knowledge of his or her Copyright and Related Rights in the</div><div>Work and the meaning and intended legal effect of CC0 on those rights.</div><div><br></div><div>1. Copyright and Related Rights. A Work made available under CC0 may be</div><div>protected by copyright and related or neighboring rights ("Copyright and</div><div>Related Rights"). Copyright and Related Rights include, but are not</div><div>limited to, the following:</div><div><br></div><div>&nbsp; i. the right to reproduce, adapt, distribute, perform, display,</div><div>&nbsp; &nbsp; &nbsp;communicate, and translate a Work;</div><div>&nbsp;ii. moral rights retained by the original author(s) and/or performer(s);</div><div>iii. publicity and privacy rights pertaining to a person's image or</div><div>&nbsp; &nbsp; &nbsp;likeness depicted in a Work;</div><div>&nbsp;iv. rights protecting against unfair competition in regards to a Work,</div><div>&nbsp; &nbsp; &nbsp;subject to the limitations in paragraph 4(a), below;</div><div>&nbsp; v. rights protecting the extraction, dissemination, use and reuse of data</div><div>&nbsp; &nbsp; &nbsp;in a Work;</div><div>&nbsp;vi. database rights (such as those arising under Directive 96/9/EC of the</div><div>&nbsp; &nbsp; &nbsp;European Parliament and of the Council of 11 March 1996 on the legal</div><div>&nbsp; &nbsp; &nbsp;protection of databases, and under any national implementation</div><div>&nbsp; &nbsp; &nbsp;thereof, including any amended or successor version of such</div><div>&nbsp; &nbsp; &nbsp;directive); and</div><div>vii. other similar, equivalent or corresponding rights throughout the</div><div>&nbsp; &nbsp; &nbsp;world based on applicable law or treaty, and any national</div><div>&nbsp; &nbsp; &nbsp;implementations thereof.</div><div><br></div><div>2. Waiver. To the greatest extent permitted by, but not in contravention</div><div>of, applicable law, Affirmer hereby overtly, fully, permanently,</div><div>irrevocably and unconditionally waives, abandons, and surrenders all of</div><div>Affirmer's Copyright and Related Rights and associated claims and causes</div><div>of action, whether now known or unknown (including existing as well as</div><div>future claims and causes of action), in the Work (i) in all territories</div><div>worldwide, (ii) for the maximum duration provided by applicable law or</div><div>treaty (including future time extensions), (iii) in any current or future</div><div>medium and for any number of copies, and (iv) for any purpose whatsoever,</div><div>including without limitation commercial, advertising or promotional</div><div>purposes (the "Waiver"). Affirmer makes the Waiver for the benefit of each</div><div>member of the public at large and to the detriment of Affirmer's heirs and</div><div>successors, fully intending that such Waiver shall not be subject to</div><div>revocation, rescission, cancellation, termination, or any other legal or</div><div>equitable action to disrupt the quiet enjoyment of the Work by the public</div><div>as contemplated by Affirmer's express Statement of Purpose.</div><div><br></div><div>3. Public License Fallback. Should any part of the Waiver for any reason</div><div>be judged legally invalid or ineffective under applicable law, then the</div><div>Waiver shall be preserved to the maximum extent permitted taking into</div><div>account Affirmer's express Statement of Purpose. In addition, to the</div><div>extent the Waiver is so judged Affirmer hereby grants to each affected</div><div>person a royalty-free, non transferable, non sublicensable, non exclusive,</div><div>irrevocable and unconditional license to exercise Affirmer's Copyright and</div><div>Related Rights in the Work (i) in all territories worldwide, (ii) for the</div><div>maximum duration provided by applicable law or treaty (including future</div><div>time extensions), (iii) in any current or future medium and for any number</div><div>of copies, and (iv) for any purpose whatsoever, including without</div><div>limitation commercial, advertising or promotional purposes (the</div><div>"License"). The License shall be deemed effective as of the date CC0 was</div><div>applied by Affirmer to the Work. Should any part of the License for any</div><div>reason be judged legally invalid or ineffective under applicable law, such</div><div>partial invalidity or ineffectiveness shall not invalidate the remainder</div><div>of the License, and in such case Affirmer hereby affirms that he or she</div><div>will not (i) exercise any of his or her remaining Copyright and Related</div><div>Rights in the Work or (ii) assert any associated claims and causes of</div><div>action with respect to the Work, in either case contrary to Affirmer's</div><div>express Statement of Purpose.</div><div><br></div><div>4. Limitations and Disclaimers.</div><div><br></div><div>&nbsp;a. No trademark or patent rights held by Affirmer are waived, abandoned,</div><div>&nbsp; &nbsp; surrendered, licensed or otherwise affected by this document.</div><div>&nbsp;b. Affirmer offers the Work as-is and makes no representations or</div><div>&nbsp; &nbsp; warranties of any kind concerning the Work, express, implied,</div><div>&nbsp; &nbsp; statutory or otherwise, including without limitation warranties of</div><div>&nbsp; &nbsp; title, merchantability, fitness for a particular purpose, non</div><div>&nbsp; &nbsp; infringement, or the absence of latent or other defects, accuracy, or</div><div>&nbsp; &nbsp; the present or absence of errors, whether or not discoverable, all to</div><div>&nbsp; &nbsp; the greatest extent permissible under applicable law.</div><div>&nbsp;c. Affirmer disclaims responsibility for clearing rights of other persons</div><div>&nbsp; &nbsp; that may apply to the Work or any use thereof, including without</div><div>&nbsp; &nbsp; limitation any person's Copyright and Related Rights in the Work.</div><div>&nbsp; &nbsp; Further, Affirmer disclaims responsibility for obtaining any necessary</div><div>&nbsp; &nbsp; consents, permissions or other rights required for any use of the</div><div>&nbsp; &nbsp; Work.</div><div>&nbsp;d. Affirmer understands and acknowledges that Creative Commons is not a</div><div>&nbsp; &nbsp; party to this document and has no duty or obligation with respect to</div><div>&nbsp; &nbsp; this CC0 or use of the Work.</div><div><br></div></td>
            </tr>
          </table>
        </section>
    </mi-presentacion>
  </body>
  <script type="module" src="lib/comun.js"></script>
</html>