<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport"
      content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de Polimorfismo</title>
    <script>
      function aleatorio(menor, mayor) {
        return menor + Math.floor(
          Math.random() * (mayor - menor + 1));
      }
      /** @interface */
      class SeMueve {
        mu√©vete() { throw new Error("interface."); }
      }
      /** @implements {SeMueve} */
      class PerroWeb extends HTMLElement {
        connectedCallback() {
          this.x = 0;
          this.y = 0;
          this.innerHTML = /* html */ `üêï`;
          this.style.position = "fixed";
          this.style.fontSize = "2rem";
          this.style.right = `${this.x}px`;
          this.style.bottom = `${this.y}px`;
        }
        mu√©vete() {
          this.x = (this.x + 30) % window.innerWidth;
          this.style.right = `${this.x}px`;
        }
      }
      customElements.define("perro-web", PerroWeb);
      /** @implements {SeMueve} */
      class √ÅguilaWeb extends HTMLElement {
        connectedCallback() {
          this.x = aleatorio(0,
            Math.floor(window.innerWidth));
          this.y = aleatorio(0,
            Math.floor(window.innerHeight));
          this.innerHTML = /* html */ `ü¶Ö`;
          this.style.position = "fixed";
          this.style.fontSize = "2.5rem";
          this.style.left = `${this.x}px`;
          this.style.top = `${this.y}px`;
        }
        mu√©vete() {
          this.y = (this.y + 10) % window.innerHeight;
          this.style.top = `${this.y}px`;
        }
      }
      customElements.define("aguila-web", √ÅguilaWeb);
      class ControladorWeb extends HTMLElement {
        connectedCallback() {
          this.mu√©vete = this.mu√©vete.bind(this);
          this.innerHTML = /* html */
            `<button
              onclick="this.parentElement.mu√©vete();">
              Mueve
            </button>`;
          this.figuras = [new √ÅguilaWeb(),
            new PerroWeb(), new √ÅguilaWeb()];
          for (let figura of this.figuras) {
            this.append(figura);
          }
        }
        mu√©vete() {
          for (let figura of this.figuras) {
            figura.mu√©vete();
          }
        }
      }
      customElements.define("controlador-web",
        ControladorWeb);
    </script>
  </head>
  <body>
    <h1>Ejemplo de Polimorfismo</h1>
    <controlador-web></controlador-web>
    <footer>
      <p>&copy; 2020 Gilberto Pacheco Gallegos.</p>
    </footer>
  </body>
</html>