<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script type="text/JavaScript" src="fonts/fmathFormulaFonts.js"></script>
	<script type="text/JavaScript" src="fmathFormulaC.js"></script>
</head>
<body>
<center>
<form>
	<table>
		<tr>
			<td>Latex:</td>
			<td><textarea id="latex" style="width:500px;height:20px"></textarea></td>
		</tr>
		<tr>
			<td><input type="button" value="Display Latex > MathML" onclick="convertFromLatexToMathML()"/></td>
			<td><canvas id="latexCanvas" width="0" height="0" style="border:1px solid #000000;"></canvas></td>
		</tr>
		<tr>
			<td>MathML:</td>
			<td><textarea id="mathml" style="width:500px;height:100px"></textarea></td>
		</tr>
		<tr>
			<td><input type="button" value="Display MathML > Latex" onclick="convertFromMathMLToLatex()"/></td>
			<td><canvas id="mathmlCanvas" width="0" height="0" style="border:1px solid #000000;"></canvas></td>
		</tr>
		<tr>
			<td>Latex:</td>
			<td><textarea id="latexOutput" style="width:500px;height:20px"></textarea></td>
		</tr>
	</table>
</form>
</center>
	<script>
		FMATH.ApplicationConfiguration.setFolderUrlForFonts("fonts");
		FMATH.ApplicationConfiguration.setFolderUrlForGlyphs("glyphs");

		function convertFromLatexToMathML(){
			var latexInput = document.getElementById("latex");
			var latexCanvas=document.getElementById("latexCanvas");

			var formula = new FMATH.MathMLFormula();
			var mathml = formula.convertLatexToMathML(latexInput.value)
			formula.drawImage(latexCanvas, mathml);

			var mathMLOutput = document.getElementById("mathml");
			mathMLOutput.value = mathml;
		}

		function convertFromMathMLToLatex(){
			var mathmlInput = document.getElementById("mathml");
			var mathmlCanvas=document.getElementById("mathmlCanvas");

			var formula = new FMATH.MathMLFormula();
			formula.drawImage(mathmlCanvas, mathmlInput.value);

			var latex = formula.convertMathMLToLatex(mathmlInput.value);
			var latexOutput = document.getElementById("latexOutput");
			latexOutput.value = latex;

		}

		var textarea = document.getElementById("latex");
		textarea.value = '$a^2+b^3+c$';

	</script>
</body>
</html>